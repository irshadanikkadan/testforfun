<!DOCTYPE html>
<html lang="en">
	<head>
			<meta charset="UTF-8">
			<meta name="viewport" content="width=device-width, initial-scale=1.0">
			<title>Admin Portal - AL FALAH ONLINE</title>
			<link rel="stylesheet" href="css/styles.css">
	</head>
		<body class="admin-page">
		<div class="admin-container">
			<h1>üîê Admin Portal</h1>
			<form id="admin-login">
				<div class="form-group">
					<label for="email">Email</label>
					<input type="email" id="email" value="alfalahonlinekerala@gmail.com" readonly>
				</div>

				<div class="form-group">
					<label for="password">Password</label>
					<input type="password" id="password" placeholder="Enter admin password" required>
				</div>

				<button type="submit">Login</button>
				<p class="error" id="error-message" style="display: none;">Invalid password. Please try again.</p>
			</form>
		</div>

		<script>
			document.getElementById('admin-login').addEventListener('submit', async function(e) {
				e.preventDefault();
				const password = document.getElementById('password').value;
				const errorMsg = document.getElementById('error-message');

				const response = await fetch('/login', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/json'
					},
					body: JSON.stringify({ password })
				});

				if (response.ok) {
					alert('‚úÖ Login successful! Redirecting to dashboard...');
					window.location.href = 'dashboard.html';
				} else {
					errorMsg.style.display = 'block';
					document.getElementById('password').value = '';
				}
			});
		</script>
	</body>
</html>
